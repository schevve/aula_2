<!DOCTYPE html>
<!--
    Template Thymeleaf para listar os alunos cadastrados.

    Thymeleaf √© um template engine que permite gerar HTML din√¢mico no servidor.
    Os atributos "th:" s√£o processados pelo Thymeleaf antes de enviar o HTML ao navegador.
-->
<html xmlns:th="http://www.thymeleaf.org" lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Alunos</title>
    <!-- Bootstrap CSS via CDN para estiliza√ß√£o r√°pida -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          rel="stylesheet">
</head>
<body>

<!-- Barra de navega√ß√£o -->
<nav class="navbar navbar-dark bg-dark mb-4">
    <div class="container">
        <a class="navbar-brand" href="/alunos">Sistema de Cadastro de Alunos</a>
    </div>
</nav>

<div class="container">

    <!-- Mensagem flash: exibida ap√≥s salvar ou excluir um aluno -->
    <!-- th:if verifica se o atributo "mensagem" existe no model -->
    <div th:if="${mensagem}" class="alert alert-success alert-dismissible fade show" role="alert">
        <span th:text="${mensagem}">Mensagem</span>
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>

    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2>Lista de Alunos</h2>
        <!-- Link para o formul√°rio de cadastro -->
        <a th:href="@{/alunos/novo}" class="btn btn-primary">+ Novo Aluno</a>
    </div>

    <!-- Mensagem exibida quando n√£o h√° alunos cadastrados -->
    <!-- th:if="${#lists.isEmpty(alunos)}" verifica se a lista est√° vazia -->
    <div th:if="${#lists.isEmpty(alunos)}" class="alert alert-info">
        Nenhum aluno cadastrado. Clique em "Novo Aluno" para come√ßar!
    </div>

    <!-- Tabela de alunos (s√≥ aparece se a lista N√ÉO estiver vazia) -->
    <table th:if="${!#lists.isEmpty(alunos)}" class="table table-striped table-hover">
        <thead class="table-dark">
            <tr>
                <th>ID</th>
                <th>Nome</th>
                <th>E-mail</th>
                <th>Matr√≠cula</th>
                <th>Curso</th>
                <th>A√ß√µes</th>
            </tr>
        </thead>
        <tbody>
            <!--
                th:each itera sobre a lista "alunos" (recebida do Controller).
                Para cada item, cria uma vari√°vel "aluno" acess√≠vel dentro do <tr>.
            -->
            <tr th:each="aluno : ${alunos}">
                <!-- th:text substitui o conte√∫do do elemento pelo valor do atributo -->
                <td th:text="${aluno.id}">1</td>
                <td th:text="${aluno.nome}">Nome</td>
                <td th:text="${aluno.email}">email@exemplo.com</td>
                <td th:text="${aluno.matricula}">000000</td>
                <td th:text="${aluno.curso}">Curso</td>
                <td>
                    <!--
                        th:href="@{...}" gera URLs din√¢micas.
                        O valor entre par√™nteses substitui a vari√°vel na URL.
                    -->
                    <a th:href="@{/alunos/editar/{id}(id=${aluno.id})}"
                       class="btn btn-sm btn-warning">Editar</a>

                    <a th:href="@{/alunos/excluir/{id}(id=${aluno.id})}"
                       class="btn btn-sm btn-danger"
                       onclick="return confirm('Tem certeza que deseja excluir este aluno?')">
                        Excluir
                    </a>
                </td>
            </tr>
        </tbody>
    </table>

    <!-- Rodap√© com informa√ß√£o sobre o console do H2 -->
    <hr>
    <p class="text-muted text-center">
        üí° Console do banco H2 dispon√≠vel em:
        <a href="/h2-console" target="_blank">/h2-console</a>
        (JDBC URL: <code>jdbc:h2:mem:aula2db</code>)
    </p>

</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
